<script lang="ts">
	// ä½¿ç”¨ @types åˆ«åå¯¼å…¥ç±»å‹
	import type { Environment, LogLevel } from '@types';
	import { env } from '$lib/utils/env';

	// ç±»å‹æµ‹è¯•
	let currentEnv: Environment = env.config.environment;
	let logLevel: LogLevel = env.config.logLevel;

	// åˆ›å»ºä¸€ä¸ªç¤ºä¾‹å‡½æ•°ä½¿ç”¨å¯¼å…¥çš„ç±»å‹
	function setEnvironment(newEnv: Environment) {
		currentEnv = newEnv;
	}

	function setLogLevel(level: LogLevel) {
		logLevel = level;
	}
</script>

<svelte:head>
	<title>@types åˆ«åæ¼”ç¤º</title>
</svelte:head>

<div class="container mx-auto p-6">
	<h1 class="mb-6 text-3xl font-bold">@types åˆ«åä½¿ç”¨æ¼”ç¤º</h1>

	<div class="mb-6 rounded-lg bg-white p-6 shadow-lg">
		<h2 class="mb-4 text-xl font-semibold">ğŸ¯ ç±»å‹åˆ«åé…ç½®</h2>
		<div class="rounded-lg bg-gray-100 p-4">
			<p class="mb-2 text-sm text-gray-600">
				ç°åœ¨å¯ä»¥ä½¿ç”¨ <code class="rounded bg-gray-200 px-2 py-1">@types</code> åˆ«åæ¥å¯¼å…¥ç±»å‹å®šä¹‰ï¼š
			</p>
			<pre class="text-sm"><code
					>import type &#123; Environment, LogLevel &#125; from '@types';</code
				></pre>
		</div>
	</div>

	<div class="grid gap-6 md:grid-cols-2">
		<div class="rounded-lg bg-white p-6 shadow">
			<h2 class="mb-4 text-xl font-semibold">ğŸ“¦ å½“å‰ç¯å¢ƒä¿¡æ¯</h2>
			<div class="space-y-2">
				<div class="flex justify-between">
					<span class="font-medium">ç¯å¢ƒç±»å‹:</span>
					<span class="text-blue-600">{currentEnv}</span>
				</div>
				<div class="flex justify-between">
					<span class="font-medium">æ—¥å¿—çº§åˆ«:</span>
					<span class="text-green-600">{logLevel}</span>
				</div>
			</div>
		</div>

		<div class="rounded-lg bg-white p-6 shadow">
			<h2 class="mb-4 text-xl font-semibold">ğŸ”§ ç±»å‹æµ‹è¯•</h2>
			<div class="space-y-3">
				<div>
					<label for="env-select" class="mb-1 block text-sm font-medium">è®¾ç½®ç¯å¢ƒ:</label>
					<select
						id="env-select"
						bind:value={currentEnv}
						class="w-full rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring-blue-500"
					>
						<option value="development">Development</option>
						<option value="production">Production</option>
						<option value="test">Test</option>
					</select>
				</div>

				<div>
					<label for="log-select" class="mb-1 block text-sm font-medium">è®¾ç½®æ—¥å¿—çº§åˆ«:</label>
					<select
						id="log-select"
						bind:value={logLevel}
						class="w-full rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring-blue-500"
					>
						<option value="debug">Debug</option>
						<option value="info">Info</option>
						<option value="warn">Warn</option>
						<option value="error">Error</option>
					</select>
				</div>
			</div>
		</div>
	</div>

	<div class="mt-6 rounded-lg bg-white p-6 shadow">
		<h2 class="mb-4 text-xl font-semibold">ğŸ“ æ”¯æŒçš„å¯¼å…¥æ–¹å¼</h2>
		<div class="grid gap-4 text-sm md:grid-cols-2">
			<div>
				<h3 class="mb-2 font-semibold text-green-600">âœ… æ¨èç”¨æ³•:</h3>
				<pre class="rounded bg-gray-100 p-2"><code
						>import type &#123; Environment &#125; from '@types';
import type &#123; LogLevel &#125; from '@types';
import type &#123; EnvironmentVariables &#125; from '@types';</code
					></pre>
			</div>

			<div>
				<h3 class="mb-2 font-semibold text-blue-600">ğŸ”§ å…·ä½“æ–‡ä»¶å¯¼å…¥:</h3>
				<pre class="rounded bg-gray-100 p-2"><code
						>import type &#123; Environment &#125; from '@types/env.d';
// æ³¨æ„: .d.ts æ–‡ä»¶éœ€è¦çœç•¥ .ts æ‰©å±•å</code
					></pre>
			</div>
		</div>
	</div>

	<div class="mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4">
		<h3 class="mb-2 font-semibold text-blue-800">ğŸ’¡ é…ç½®è¯´æ˜</h3>
		<ul class="space-y-1 text-sm text-blue-700">
			<li>
				â€¢ <strong>Vite åˆ«å:</strong> <code>vite.config.ts</code> ä¸­é…ç½®äº† <code>@types</code> è·¯å¾„æ˜ å°„
			</li>
			<li>â€¢ <strong>SvelteKit åˆ«å:</strong> <code>svelte.config.js</code> ä¸­é…ç½®äº†ç›¸åº”åˆ«å</li>
			<li>â€¢ <strong>TypeScript æ”¯æŒ:</strong> <code>tsconfig.json</code> ä¸­æ·»åŠ äº†è·¯å¾„æ˜ å°„</li>
			<li>â€¢ <strong>ç»Ÿä¸€å¯¼å‡º:</strong> é€šè¿‡ <code>types/index.ts</code> ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰ç±»å‹</li>
		</ul>
	</div>
</div>
